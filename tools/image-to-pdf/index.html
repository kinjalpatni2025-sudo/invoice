<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Image → PDF Converter — Smarttool Hub</title>
  <meta name="description" content="Convert multiple PNG/JPG images into a single PDF — free, fast, secure. All processing happens in your browser." />
  <meta name="keywords" content="image to pdf, multiple images to pdf, jpg to pdf, png to pdf, online converter" />
  <style>
    body{margin:0;font-family:Inter,system-ui,sans-serif;background:#0f1724;color:#fff;padding:20px}
    h1{color:#0ea5a5}
    .container{max-width:800px;margin:auto}
    .drop{border:2px dashed rgba(255,255,255,0.2);padding:20px;text-align:center;border-radius:8px;margin-top:20px}
    input[type=file]{display:none}
    .btn{background:linear-gradient(90deg,#0ea5a5,#60a5fa);padding:10px 15px;color:#022;font-weight:600;text-decoration:none;border:none;border-radius:8px;cursor:pointer}
    .preview{display:flex;flex-wrap:wrap;gap:10px;margin-top:15px}
    .preview img{width:120px;height:auto;border-radius:4px}
  </style>
</head>
<body>
  <div class="container">
    <h1>Image → PDF Converter</h1>
    <p>Select multiple images (PNG/JPG) and convert them into a single PDF directly in your browser — fast, secure, and private.</p>
    <div class="drop" id="drop">
      <p>Drag & drop images here or</p>
      <button class="btn" id="pick">Select Images</button>
      <input type="file" id="files" accept="image/*" multiple>
    </div>
    <div class="preview" id="preview"></div>
    <button class="btn" id="generate" style="margin-top:20px">Convert to PDF</button>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    const { jsPDF } = window.jspdf;
    const filesEl = document.getElementById('files');
    const pickBtn = document.getElementById('pick');
    const drop = document.getElementById('drop');
    const preview = document.getElementById('preview');
    const generate = document.getElementById('generate');

    let images = [];

    pickBtn.addEventListener('click', () => filesEl.click());
    filesEl.addEventListener('change', handleFiles);

    ['dragenter','dragover'].forEach(ev=>drop.addEventListener(ev,e=>{e.preventDefault();drop.style.borderColor='#0ea5a5'}));
    ['dragleave','drop'].forEach(ev=>drop.addEventListener(ev,e=>{e.preventDefault();drop.style.borderColor='rgba(255,255,255,0.2)'}));
    drop.addEventListener('drop', e => {
      e.preventDefault();
      handleFilesList(Array.from(e.dataTransfer.files));
    });

    function handleFiles(e){
      handleFilesList(Array.from(e.target.files));
    }

    function handleFilesList(list){
      const imageFiles = list.filter(f => f.type.startsWith('image/'));
      imageFiles.forEach(file => {
        const reader = new FileReader();
        reader.onload = ev => {
          images.push(ev.target.result);
          renderPreviews();
        };
        reader.readAsDataURL(file);
      });
    }

    function renderPreviews(){
      preview.innerHTML = '';
      images.forEach(src => {
        const img = document.createElement('img');
        img.src = src;
        preview.appendChild(img);
      });
    }

    generate.addEventListener('click', async () => {
      if(images.length === 0){
        alert('Please select at least one image before converting.');
        return;
      }
      const pdf = new jsPDF();
      for(let i=0;i<images.length;i++){
        const img = images[i];
        const imgProps = pdf.getImageProperties(img);
        const pdfWidth = pdf.internal.pageSize.getWidth();
        const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;
        pdf.addImage(img, 'JPEG', 0, 0, pdfWidth, pdfHeight);
        if(i < images.length - 1) pdf.addPage();
      }
      pdf.save('images.pdf');
    });
  </script>
</body>
</html>
