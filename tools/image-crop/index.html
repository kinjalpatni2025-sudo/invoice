<!doctype html>
<html lang="en">
<head>
  <!-- SEO -->
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Crop Image Tool ‚Äî Free Online Cropper | Smarttool Hub</title>
  <meta name="description" content="Crop images online for free. Upload one or multiple images, select crop area, preview, and download cropped images instantly. Secure and 100% client-side.">
  <meta name="keywords" content="crop image, crop multiple images, free image cropper, crop photos online, client-side crop tool"/>

  <link rel="icon" type="image/png" href="https://img.icons8.com/fluency/48/toolbox.png"/>

  <!-- FAQ Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "Is this crop tool free?",
        "acceptedAnswer": {"@type": "Answer","text": "Yes, this crop tool is completely free and runs in your browser."}
      },
      {
        "@type": "Question",
        "name": "Can I crop multiple images?",
        "acceptedAnswer": {"@type": "Answer","text": "Yes, you can upload multiple images, crop them one by one, and download them individually or in a ZIP file."}
      },
      {
        "@type": "Question",
        "name": "Are my images safe?",
        "acceptedAnswer": {"@type": "Answer","text": "Yes. All cropping happens in your browser. Your files never leave your device."}
      }
    ]
  }
  </script>

  <!-- Styles -->
  <style>
    :root{
      --bg:#0f1724;--card:#0b1220;--muted:#9aa8bf;--text:#e6eef8;
      --pri1:#6366f1;--pri2:#0ea5e9;--outline:rgba(255,255,255,.08);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:var(--text)}
    header{position:sticky;top:0;z-index:10;background:linear-gradient(90deg,var(--pri1),var(--pri2));
      padding:12px 16px;display:flex;justify-content:space-between;align-items:center}
    header h1{margin:0;font-size:18px}
    header .right a{background:#fff;color:#0b1220;padding:6px 10px;border-radius:8px;font-weight:700;text-decoration:none}
    .wrap{max-width:1100px;margin:20px auto;padding:12px}
    .panel{background:var(--card);border:1px solid var(--outline);border-radius:14px;padding:12px;margin-bottom:20px}
    .controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-bottom:10px}
    .btn{background:#fff;color:#0b1220;border:none;padding:8px 12px;border-radius:10px;font-weight:700;cursor:pointer}
    .btn.small{padding:6px 8px;font-size:13px}
    label.inputbtn{border:1px dashed var(--outline);padding:8px 12px;border-radius:10px;cursor:pointer}
    input[type=file]{display:none}
    .thumbs{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px;margin-bottom:10px}
    .thumb{background:#fff;border-radius:10px;overflow:hidden;border:2px solid transparent;cursor:pointer}
    .thumb.active{border-color:#0ea5e9}
    .thumb img{width:100%;display:block}
    .stage{margin-top:12px;position:relative;border:1px solid var(--outline);border-radius:12px;min-height:400px;display:flex;align-items:center;justify-content:center;background:#0a0f1a;overflow:hidden}
    #canvas{max-width:100%;display:none;cursor:crosshair}
    .crop-rect{position:absolute;border:2px dashed #0ea5e9;background:rgba(14,165,233,0.2);display:none}
    .progress{height:12px;background:#0d1626;border-radius:999px;overflow:hidden;border:1px solid var(--outline);margin-top:12px}
    .bar{height:100%;width:0;background:linear-gradient(90deg,var(--pri1),var(--pri2));transition:width .2s}
    .muted{color:var(--muted);font-size:13px}
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <h1>Crop Image Tool</h1>
    <div class="right"><a href="../../index.html">‚Üê Back to Home</a></div>
  </header>

  <!-- Main Tool -->
  <div class="wrap">
    <div class="panel">
      <div class="controls">
        <label class="inputbtn">Select Images<input id="fileInput" type="file" accept="image/*" multiple></label>
        <button id="cropBtn" class="btn">Crop Selected</button>
        <button id="downloadAllBtn" class="btn small">Download All Cropped (ZIP)</button>
        <button id="clearBtn" class="btn small">Clear</button>
      </div>

      <!-- Thumbnails -->
      <div id="thumbs" class="thumbs"><div class="muted">Upload images to crop.</div></div>

      <!-- Stage -->
      <div class="stage">
        <canvas id="canvas"></canvas>
        <div id="cropRect" class="crop-rect"></div>
        <div id="placeholder" class="muted">Select an image thumbnail to crop</div>
      </div>

      <!-- Progress -->
      <div class="progress"><div id="bar" class="bar"></div></div>
      <div id="status" class="muted">Idle</div>
    </div>

    <!-- SEO Content -->
    <section class="panel">
      <h2>Crop Images Online ‚Äî Single or Multiple</h2>
      <p>This free crop image tool lets you cut images online. Upload one or more images, draw a rectangle to crop, and download results instantly. All processing is 100% client-side.</p>

      <h2>How to crop images?</h2>
      <ol>
        <li>Upload one or multiple images.</li>
        <li>Select a thumbnail and drag to draw crop area.</li>
        <li>Click ‚ÄúCrop Selected‚Äù to download cropped image.</li>
        <li>Download all cropped results together as a ZIP file.</li>
      </ol>

      <h2>Why choose this Crop Tool?</h2>
      <ul>
        <li>‚ö° Works for single and multiple images</li>
        <li>üîí Safe ‚Äî no file upload to servers</li>
        <li>‚úÇÔ∏è Simple drag-to-select crop</li>
        <li>üìÇ Export cropped images individually or in bulk</li>
      </ul>
    </section>
  </div>

  <!-- Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

  <!-- JS -->
  <script>
    const fileInput=document.getElementById('fileInput');
    const thumbs=document.getElementById('thumbs');
    const canvas=document.getElementById('canvas');
    const ctx=canvas.getContext('2d');
    const placeholder=document.getElementById('placeholder');
    const cropRect=document.getElementById('cropRect');
    const cropBtn=document.getElementById('cropBtn');
    const clearBtn=document.getElementById('clearBtn');
    const bar=document.getElementById('bar');
    const status=document.getElementById('status');
    const downloadAllBtn=document.getElementById('downloadAllBtn');
    let filesArr=[],currentIndex=-1,img=new Image();
    let dragging=false,startX,startY,endX,endY,rect={};

    // Load images
    fileInput.addEventListener('change',e=>{
      for(const f of e.target.files){
        if(!f.type.startsWith('image/'))continue;
        const url=URL.createObjectURL(f);
        filesArr.push({file:f,url, cropped:null});
      }
      renderThumbs();
    });

    function renderThumbs(){
      thumbs.innerHTML='';
      if(filesArr.length===0){thumbs.innerHTML='<div class="muted">Upload images to crop.</div>';return;}
      filesArr.forEach((it,i)=>{
        const card=document.createElement('div');card.className='thumb'+(i===currentIndex?' active':'');
        const img=document.createElement('img');img.src=it.url;card.appendChild(img);
        card.addEventListener('click',()=>loadImage(i));
        thumbs.appendChild(card);
      });
    }

    function loadImage(i){
      currentIndex=i;renderThumbs();
      img=new Image();
      img.onload=()=>{
        canvas.width=img.width;canvas.height=img.height;
        ctx.drawImage(img,0,0);canvas.style.display='block';placeholder.style.display='none';
        cropRect.style.display='none';
      };
      img.src=filesArr[i].url;
    }

    // Crop rectangle events
    canvas.addEventListener('mousedown',e=>{
      if(currentIndex===-1)return;
      dragging=true;startX=e.offsetX;startY=e.offsetY;
      cropRect.style.left=startX+'px';cropRect.style.top=startY+'px';
      cropRect.style.width='0';cropRect.style.height='0';cropRect.style.display='block';
    });
    canvas.addEventListener('mousemove',e=>{
      if(!dragging)return;
      endX=e.offsetX;endY=e.offsetY;
      const x=Math.min(startX,endX),y=Math.min(startY,endY);
      const w=Math.abs(startX-endX),h=Math.abs(startY-endY);
      cropRect.style.left=x+'px';cropRect.style.top=y+'px';cropRect.style.width=w+'px';cropRect.style.height=h+'px';
      rect={x,y,w,h};
    });
    canvas.addEventListener('mouseup',()=>dragging=false);

    // Crop current image
    cropBtn.addEventListener('click',()=>{
      if(currentIndex===-1||!rect.w||!rect.h){alert("Select an image and draw crop area first!");return;}
      setProgress(10,"Cropping...");
      const out=document.createElement('canvas');out.width=rect.w;out.height=rect.h;
      out.getContext('2d').drawImage(canvas,rect.x,rect.y,rect.w,rect.h,0,0,rect.w,rect.h);
      out.toBlob(b=>{
        filesArr[currentIndex].cropped=b;
        const a=document.createElement('a');
        a.href=URL.createObjectURL(b);
        a.download=filesArr[currentIndex].file.name.replace(/\.[^.]+$/,'')+'-cropped.png';
        a.click();
        setProgress(100,"Cropped "+filesArr[currentIndex].file.name);
        setTimeout(()=>resetProgress(),1200);
      });
    });

    // Download all cropped images as ZIP
    downloadAllBtn.addEventListener('click',async()=>{
      const ready=filesArr.filter(f=>f.cropped);
      if(ready.length===0){alert("Crop at least one image first!");return;}
      setProgress(20,"Zipping...");
      const zip=new JSZip();ready.forEach(f=>zip.file(f.file.name.replace(/\.[^.]+$/,'')+'-cropped.png',f.cropped));
      const blob=await zip.generateAsync({type:'blob'});saveAs(blob,'cropped-images.zip');
      setProgress(100,"ZIP Ready");setTimeout(()=>resetProgress(),1500);
    });

    // Clear
    clearBtn.addEventListener('click',()=>{
      filesArr=[];currentIndex=-1;thumbs.innerHTML='<div class="muted">Upload images to crop.</div>';
      canvas.style.display='none';placeholder.style.display='block';cropRect.style.display='none';
      fileInput.value='';resetProgress();
    });

    function setProgress(p,msg){bar.style.width=p+"%";status.textContent=msg;}
    function resetProgress(){bar.style.width="0%";status.textContent="Idle";}
  </script>
</body>
</html>
